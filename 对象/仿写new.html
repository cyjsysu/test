<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>new</title>
</head>
<body>

<script>
    function Otaku (name, age) {
        this.name = name;
        this.age = age;

        this.habit = 'Games';
    }

    Otaku.prototype.strength = 60;

    Otaku.prototype.sayYourName = function () {
        console.log('I am ' + this.name);
    };

    function myNew(){
        /*
        第一个参数是构造函数，后面的是构造函数的参数
         */
        let obj = {};
        // constructor是argument的第一个参数，为构造函数
        let constructor = [].shift.call(arguments);
        // console.log(constructor);
        obj.__proto__ = constructor.prototype;
        let ret = constructor.apply(obj, arguments);
        // return obj;
        return typeof ret === 'object' ? ret : obj;
    }

    var person =  myNew(Otaku, 'Kevin', '18');

    console.log(person.name); // Kevin
    console.log(person.habit); // Games
    console.log(person.strength); // 60

    person.sayYourName(); // I am Kevin

</script>
</body>
</html>